<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>IE浏览器中的各种条件注释<!--[if IE]>...<![endif]--></title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>

        <div class="site">
          <div class="header">
            <h1 class="title"><a href="/">Byronlee</a></h1>
            <a class="extra" href="/">home</a>
          </div>

          <h2>IE浏览器中的各种条件注释<!--[if IE]>...<![endif]--></h2>
<p class="meta">11 May 2012</p>

<div class="post">
<p>1. &lt;!--[if !IE]&gt;&lt;!--&gt; 除IE外都可识别 &lt;!--&lt;![endif]--&gt;<br />
2. &lt;!--[if IE]&gt; 所有的IE可识别 &lt;![endif]--&gt;<br />
3. &lt;!--[if IE 5.0]&gt; 只有IE5.0可以识别 &lt;![endif]--&gt;<br />
4. &lt;!--[if IE 5]&gt; 仅IE5.0与IE5.5可以识别 &lt;![endif]--&gt;<br />
5. &lt;!--[if gt IE 5.0]&gt; IE5.0以及IE5.0以上版本都可以识别 &lt;![endif]--&gt;<br />
6. &lt;!--[if IE 6]&gt; 仅IE6可识别 &lt;![endif]--&gt;<br />
7. &lt;!--[if lt IE 6]&gt; IE6以及IE6以下版本可识别 &lt;![endif]--&gt;<br />
8. &lt;!--[if gte IE 6]&gt; IE6以及IE6以上版本可识别 &lt;![endif]--&gt;<br />
9. &lt;!--[if IE 7]&gt; 仅IE7可识别 &lt;![endif]--&gt;<br />
10. &lt;!--[if lt IE 7]&gt; IE7以及IE7以下版本可识别 &lt;![endif]--&gt;<br />
11. &lt;!--[if gte IE 7]&gt; IE7以及IE7以上版本可识别 &lt;![endif]--&gt;</p>

<p>&nbsp;</p>

<p>&lt;!--[if lte IE 6]&gt;……&lt;![endif]--&gt;</p>

<p>Ite：less than or equal to意思是小于或等于IE6浏览器，用于IE浏览器的条件注释，常用于CSShack，针对IE的JS等。</p>

<p>在进行WEB标准网页的学习和应用过程中，网页对浏览器的兼容性是经常接触到的一个问题。其中因微软公司的Internet Explorer(简称IE)占据浏览器市场的大半江山，此外还有Firefox、Opera等。需要对这些浏览器进行兼容。</p>

<p>同时，单就IE而言，因IE版本的升级更替，目前浏览者使用的主要停留在 IE5(IE5.5)、IE6和IE7这三个版本中。而这3个版本对于我们制作的WEB标准网页（XHTML+CSS）解释执行的显示状况不尽相同。并 且，其他非IE浏览器与IE对某些CSS解释也不一样。所以，通过IE浏览器中的专有条件注释可有针对性的进行相关属性的定义。</p>

<p>条件注释只能用于Explorer 5+ Windows(以下简称IE)(条件注释从IE5开始被支持)。如果你安装了多个IE，条件注释（Conditional comments）将会以最高版本的IE为标准（目前为IE 7）。</p>

<p>条件注释只能在windows Internet Explorer(以下简称IE)下使用，因此我们可以通过条件注释来为IE添加特别的指令。</p>

<p>通俗点，条件注释就是一些if判断，但这些判断不是在脚本里执行的，而是直接在html代码里执行的，比如：<br />
&lt;!--[if IE]&gt;</p>

<p>这里是正常的html代码</p>

<p>&lt;![endif]--&gt;</p>

<p>&nbsp;</p>

<p>1，条件注释的基本结构和HTML的注释(&lt;!-- --&gt;)是一样的。因此IE以外的浏览器将会把它们看作是普通的注释而完全忽略它们。</p>

<p>2，IE将会根据if条件来判断是否如解析普通的页面内容一样解析条件注释里的内容。</p>

<p>3，条件注释使用的是HTML的注释结构，因此他们只能使用在HTML文件里，而不能在CSS文件中使用。</p>

<p>可使用如下代码检测当前IE浏览器的版本（注意：在非IE浏览器中是看不到效果的）</p>

<p>&lt;!--[if IE]&gt;</p>

<p>&lt;h1&gt;您正在使用IE浏览器&lt;/h1&gt;</p>

<p>&lt;!--[if IE 5]&gt;</p>

<p>&lt;h2&gt;版本 5&lt;/h2&gt;</p>

<p>&lt;![endif]--&gt;</p>

<p>&lt;!--[if IE 5.0]&gt;</p>

<p>&lt;h2&gt;版本 5.0&lt;/h2&gt;</p>

<p>&lt;![endif]--&gt;</p>

<p>&lt;!--[if IE 5.5]&gt;</p>

<p>&lt;h2&gt;版本 5.5&lt;/h2&gt;</p>

<p>&lt;![endif]--&gt;</p>

<p>&lt;!--[if IE 6]&gt;</p>

<p>&lt;h2&gt;版本 6&lt;/h2&gt;</p>

<p>&lt;![endif]--&gt;</p>

<p>&lt;!--[if IE 7]&gt;</p>

<p>&lt;h2&gt;版本 7&lt;/h2&gt;</p>

<p>&lt;![endif]--&gt;</p>

<p>&lt;![endif]--&gt;</p>

<p>那如果当前的浏览器是IE，但版本比IE5还低，该怎么办呢，可以使用&lt;!--[if ls IE 5]&gt;，当然，根据条件注释只能在IE5+的环境之下，所以&lt;!--[if ls IE 5]&gt;根本不会被执行。</p>

<p>lte：就是Less than or equal to的简写，也就是小于或等于的意思。</p>

<p>lt ：就是Less than的简写，也就是小于的意思。</p>

<p>gte：就是Greater than or equal to的简写，也就是大于或等于的意思。</p>

<p>gt ：就是Greater than的简写，也就是大于的意思。</p>

<p>! ：就是不等于的意思，跟javascript里的不等于判断符相同</p>

<p>&nbsp;</p>

<p>Conditional comments属于CSS hack? 条件判断属于CSS hack吗？</p>

<p>严格地说是属于CSS hack。因为就好象其他真正的css hack一样，它使得我们可以给一些浏览器赋予特殊的样式，再则它不依赖于某个浏览器的BUG来控制另外一个浏览器（的样式）。除此之外，条件判断还能用 来做一些超出CSS HACK范围的事情(虽然这种情况很少发生)。</p>

<p>因为条件判断不依赖于某个浏览器的hack,而是一个经过深思熟虑的特色功能，所以我相信它是可以被放心地使用的。当然，其他浏览器也有可能支持条件判断（到目前为止还没有），但是看起来，他们应该不会使用如&lt;!--[if IE]&gt;这样的语法。</p>

<p>应该如何应用条件注释</p>

<p>本文一开始就说明了，因为IE各版本的浏览器对我们制作的WEB标准的页面解释不一样，具体就是对CSS的解释不同，我们为了兼容这些，可运用条件注释来各自定义，最终达到兼容的目的。比如：</p>

<p>&lt;!-- 默认先调用css.css样式表 --&gt;</p>

<p>&lt;link rel="stylesheet" type="text/css" href="http://www.zhmy.com/css.css" /&gt;</p>

<p>&lt;!--[if IE 7]&gt;</p>

<p>&lt;!-- 如果IE浏览器版是7,调用ie7.css样式表 --&gt;</p>

<p>&lt;link rel="stylesheet" type="text/css" href="http://www.zhmy.com/ie7.css" /&gt;</p>

<p>&lt;![endif]--&gt;</p>

<p>&lt;!--[if lte IE 6]&gt;</p>

<p>&lt;!-- 如果IE浏览器版本小于等于6,调用ie.css样式表 --&gt;</p>

<p>&lt;link rel="stylesheet" type="text/css" href="http://www.zhmy.com/ie.css" /&gt;</p>

<p>&lt;![endif]--&gt;<br />
这其中就区分了IE7和IE6向下的浏览器对CSS的执行，达到兼容的目的。同时，首行默认的css.css还能与其他非IE浏览器实现兼容。</p>

<p>注意：默认的CSS样式应该位于HTML文档的首行，进行条件注释判断的所有内容必须位于该默认样式之后。</p>

<p>比如如下代码，在IE浏览器下执行显示为红色，而在非IE浏览器下显示为黑色。如果把条件注释判断放在首行，则不能实现。该例题很能说明网页对IE浏览器和非IE浏览器间的兼容性问题解决。</p>

<p>&lt;style type="text/css"&gt;</p>

<p>body{</p>

<p>background-color: #000;</p>

<p>}</p>

<p>&lt;/style&gt;</p>

<p>&lt;!--[if IE]&gt;</p>

<p>&lt;style type="text/css"&gt;</p>

<p>body{</p>

<p>background-color: #F00;</p>

<p>}</p>

<p>&lt;/style&gt;</p>

<p>&lt;![endif]--&gt;</p>

<p>同时，有人会试图使用&lt;!--[if !IE]&gt;来定义非IE浏览器下的状况，但注意：条件注释只有在IE浏览器下才能执行，这个代码在非IE浏览下非单不是执行该条件下的定义，而是当做注释视而不见。</p>

<p>正常就是默认的样式，对IE浏览器需要特殊处理的，才进行条件注释。</p>

<p>在HTML文件里，而不能在CSS文件中使用。</p>

</div>


          <div class="footer">
            <div class="contact">
              <p>
                Your Name<br />
                What You Are<br />
                you@example.com
              </p>
            </div>
            <div class="contact">
              <p>
                <a href="https://github.com/yourusername">github.com/yourusername</a><br />
                <a href="https://twitter.com/yourusername">twitter.com/yourusername</a><br />
              </p>
            </div>
          </div>
        </div>

    </body>
</html>
